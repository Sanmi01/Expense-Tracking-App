<%- include('../includes/head.ejs') %>
</head>

<body>
    <%- include('../includes/navigation.ejs') %>
<div>
    <h1><%= title %></h1>
    <p>Total number of employees: <%= employeesCount.count %></p>
    <p>Total number of expenses made: <%= expenseCount.count %></p>
    <p>Total number of Categories: <%= categoryCount.count %></p>
    <p>Total sum of all expenses: $<%= totalSum%></p>
</div>

<div>
    <p>Top 5 Most Recent Expenses</p>
    <% recents.forEach(recent => { %>
        <p>Name: <%= recent.name %>, Amount: $<%= recent.amount %></p>
        <%}) %>
</div>

<div>
    <p>Top 5 Most Expensive Expenses</p>
    <% expensiveExpenses.forEach(expensiveExpense => { %>
        <p>Name: <%= expensiveExpense.name %>, Amount: $<%= expensiveExpense.amount %></p>
        <%}) %>
</div>

<div>
    <p>Expenses listed by Category</p>
    <% expenseCategories.forEach(expenseCategory => { %> 
        <p class="fwb"><%= expenseCategory.name %></p>
        <%if(expenseCategory.Expenses.length == 0){%> 
            <p>There are no expenses under this category yet</p>
        <%}else{%> 
            <ol>
            <% expenseCategory.Expenses.forEach(item => { %> 
                <li><%= item.details %></li>
            <%}) %>
            </ol>
        <%}
        %>
    <% })
    %>
</div>

<div>
    <p>Expenses listed by Types</p>
    <% expenseTypes.forEach(expenseType => { %> 
        <p class="fwb"><%= expenseType.name %></p>
        <%if(expenseType.Expenses.length == 0){%> 
            <p>There are no expenses under this type yet</p>
        <%}else{%> 
            <ol>
            <% expenseType.Expenses.forEach(item => { %> 
                <li><%= item.details %></li>
            <%}) %>
            </ol>
        <%}
        %>
    <% })
    %>
</div>

<%- include('../includes/end.ejs') %>
